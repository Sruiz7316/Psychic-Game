<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <title>The Psychic Game</title>
</head>

<body>
    
<strong><h1>The Psychic Game</h1></strong>

<p>Guess what letter I'm thinking of</p>

<p>Wins:<span id="wins"> 0</span></p>

<p>Losses:<span id="loss"> 0</span></p>

<p>Guesses Left:<span id="guessLeft"> 9</span></p>

<p>Your Guesses So Far:<span id="guessFar"></span></p>

<script type="text/javascript">

var alphabet = ["a", "b", "c", "d", "e", "f", "g", "h",
 "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s",
  "t", "u", "v", "w", "x", "y", "z"];

var win = 0;
var lose = 0;
var guessesLeft = 9;
var guessed = []; 

document.onkeyup = function(event) {

    function resetGame () {
        win = 0;
        lose = 0;
        guessesLeft = 9;
        guessed = []

        document.getElementById("wins").innerHTML = win
        document.getElementById("guessLeft").innerHTML=guessesLeft;
        document.getElementById("loss").innerHTML=lose;
        document.getElementById("")

    }

    var userGuess = event.key;
                             // .toLowerCase();
    var random = Math.floor((Math.random()*alphabet.length));
    var computerchoice = alphabet[random];
    console.log('Computer',computerchoice);
    console.log('User',userGuess);

    // guessesLeft = 9;
//     computerchoice = alphabet[Math.floor((Math.random()*alphabet.length))]
//     console.log(`Computer choice is now: ${computerchoice}`)
// }
 
if (userGuess === computerchoice) {
    ++win;  
    // guessesLeft //gets reseted  
    // guessed //gets resetted
    // guessesSoFar // get resetted
    document.getElementById("wins").innerHTML= win
    show(event)
    }

    else if (guessesLeft >= 1) {
            guessesLeft--;
            lose++
            guessed.push(event.key)
            document.getElementById("guessLeft").innerHTML=guessesLeft;
            document.getElementById('loss').innerHTML = lose
            document.getElementById("guessFar").innerHTML= [...guessed]
            
        }
    

    else {
     // If guesses left equals zero reset the game
      resetGame()

    }

    function show(event) {
    console.log(event.key)
    var keyCode = event.keyCode
    if (keyCode >= 65 && keyCode <= 90 && guessesLeft > 0){
        guessed.push(event.key)
        console.log(guessed); 
        document.getElementById("guessFar").innerHTML= [...guessed]

        document.addEventListener("keydown",show)
    }
    }
};


</script>

</body>
</html>